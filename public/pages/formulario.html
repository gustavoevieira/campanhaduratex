<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Envie Seu Projeto - Promoção Salone del Mobile 2026</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Montserrat:wght@400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <header>
        <nav class="logo-container">
            <a href="https://fazziomadeiras.com.br" target="_blank">
                <img src="../uploads/fazzio-logo.png" alt="Logo Fazzio">
            </a>
            <a href="https://www.duratexmadeira.com.br" target="_blank">
                <img src="../uploads/logo-duratex.png" alt="Logo Duratex">
            </a>
        </nav>
        <div class="header-nav-links">
            <a href="../index.html" class="nav-link">Página Inicial</a>
        </div>
    </header>

    <main>
        <div class="formulario-container">
            <form action="/submit-form" method="POST" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="nome">Nome Completo</label>
                    <input type="text" id="nome" name="Nome" required>
                </div>

                <div class="form-group">
                    <label for="email">E-mail</label>
                    <input type="email" id="email" name="Email" required>
                </div>

                <div class="form-group">
                    <label for="telefone">Telefone</label>
                    <input type="tel" id="telefone" name="Telefone" required>
                </div>

                <div class="form-group">
                    <label for="cpf-cnpj">CPF/CNPJ</label>
                    <input type="text" id="cpf-cnpj" name="CPF_ou_CNPJ" placeholder="000.000.000-00/00.000.000/0000-00"
                        required>
                </div>

                <div class="form-group">
                    <label for="projeto">Descrição do Projeto</label>
                    <textarea id="projeto" name="Descricao_do_Projeto" rows="5" required></textarea>
                </div>

                <div class="form-group">
                    <label>Fotos do Projeto (até 3)</label>
                    <div id="fotos-container">
                        <div class="file-upload-wrapper visible" data-upload-id="1">
                            <label for="file-upload-1" class="custom-file-upload">
                                <i class="fas fa-camera"></i> Escolher Imagem
                            </label>
                            <input id="file-upload-1" name="Fotos_do_Projeto[]" type="file" accept="image/*" />
                            <div class="image-preview" style="display: none;">
                                <img id="preview-1" src="#" alt="Pré-visualização da imagem" />
                            </div>
                        </div>

                        <div class="file-upload-wrapper hidden" data-upload-id="2">
                            <label for="file-upload-2" class="custom-file-upload">
                                <i class="fas fa-camera"></i> Escolher Imagem
                            </label>
                            <input id="file-upload-2" name="Fotos_do_Projeto[]" type="file" accept="image/*" />
                            <div class="image-preview" style="display: none;">
                                <img id="preview-2" src="#" alt="Pré-visualização da imagem" />
                            </div>
                        </div>

                        <div class="file-upload-wrapper hidden" data-upload-id="3">
                            <label for="file-upload-3" class="custom-file-upload">
                                <i class="fas fa-camera"></i> Escolher Imagem
                            </label>
                            <input id="file-upload-3" name="Fotos_do_Projeto[]" type="file" accept="image/*" />
                            <div class="image-preview" style="display: none;">
                                <img id="preview-3" src="#" alt="Pré-visualização da imagem" />
                            </div>
                        </div>
                    </div>
                </div>

                <button type="submit" class="btn-participar">Enviar Projeto</button>
            </form>
        </div>
    </main>

    <footer>
        <div class="footer-links">
            <a href="../index.html">Página Inicial</a>
            <a href="regulamento.html">Regulamento</a>
            <a href="contato.html">Contato</a>
        </div>
        <div class="social-icons">
            <a href="https://www.facebook.com/fazzio.madeiras"><i class="fab fa-facebook-f"></i></a>
            <a href="https://www.instagram.com/fazziomadeira/"><i class="fab fa-instagram"></i></a>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const fileInputs = document.querySelectorAll('input[type="file"]');

            fileInputs.forEach(input => {
                input.addEventListener('change', function (event) {
                    const file = event.target.files[0];
                    const uploadWrapper = this.closest('.file-upload-wrapper');
                    const uploadId = parseInt(uploadWrapper.dataset.uploadId);
                    const nextUploadWrapper = document.querySelector(`[data-upload-id="${uploadId + 1}"]`);
                    const previewElement = document.getElementById(`preview-${uploadId}`);
                    const previewContainer = uploadWrapper.querySelector('.image-preview');
                    const customLabel = uploadWrapper.querySelector('.custom-file-upload');

                    if (file) {
                        // Exibe a pré-visualização da imagem
                        previewElement.src = URL.createObjectURL(file);
                        previewContainer.style.display = 'block';
                        customLabel.style.display = 'none'; // Oculta o botão "Escolher ficheiro"

                        // Mostra o próximo campo de upload, se existir
                        if (nextUploadWrapper) {
                            nextUploadWrapper.classList.remove('hidden');
                            nextUploadWrapper.classList.add('visible');
                        }
                    }
                });
            });
        });
    </script>
</body>

</html>